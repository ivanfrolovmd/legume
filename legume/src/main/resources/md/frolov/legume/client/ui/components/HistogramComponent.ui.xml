<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:p="urn:import:com.googlecode.gflot.client"
             xmlns:b="urn:import:com.github.gwtbootstrap.client.ui"
             xmlns:g='urn:import:com.google.gwt.user.client.ui'>
    <ui:style>
        .container {
            background-color: #fff;
            border-bottom: 1px solid #e5e5e5;
        }

        .plot {
            margin: 2px auto;
        }

        .centeredWrapper {
            display: table;
            height: 100px;
            width: 100%;
        }
        .centered {
            display: table-cell;
            vertical-align: middle;
        }
        .centered>div {
            margin: 0 auto;
            text-align: center;
        }
        @external .bar;
        .grey .bar {
            background-color: #ccc;
        }

        .controls {
            top:10px;
            right: 70px;
            left: 70px;
            position: absolute;
            pointer-events: none;
        }
        .controls>div {
            pointer-events: all;
            float: right;
            opacity: 0.2;
        }
        .controls>div:hover {
            opacity: 1;
        }
    </ui:style>
    <g:ResizeLayoutPanel styleName="{style.container}" ui:field="resizePanel">
        <g:FlowPanel>
            <p:SimplePlot ui:field="plot" width="800px" height="95px" styleName="{style.plot}" visible="false"/>
            <g:FlowPanel styleName="{style.controls}" ui:field="controls">
                <b:ButtonGroup>
                    <b:Button size="MINI" icon="ZOOM_IN" ui:field="zoomIn"/>
                    <b:Button size="MINI" icon="ZOOM_OUT" ui:field="zoomOut"/>
                    <b:Button size="MINI" icon="DOWNLOAD" ui:field="downloadImage"/>
                    <b:Button size="MINI" ui:field="chooseDate">Choose date</b:Button>
                </b:ButtonGroup>
            </g:FlowPanel>
            <g:FlowPanel ui:field="loading" styleName="{style.centeredWrapper}">
                <g:FlowPanel styleName="{style.centered}">
                    <b:ProgressBar percent="100" type="ANIMATED" width="200px" addStyleNames="{style.grey}"/>
                </g:FlowPanel>
            </g:FlowPanel>
            <g:FlowPanel visible="false" ui:field="error" styleName="{style.centeredWrapper}">
                <g:FlowPanel styleName="{style.centered}">
                    <b:ButtonGroup width="100%">
                        <b:Button icon="REFRESH">Try again</b:Button>
                        <b:Button icon="ZOOM_IN" title="Zoom in to reduce fetch size">Zoom in</b:Button>
                    </b:ButtonGroup>
                </g:FlowPanel>
            </g:FlowPanel>
        </g:FlowPanel>
    </g:ResizeLayoutPanel>
</ui:UiBinder>